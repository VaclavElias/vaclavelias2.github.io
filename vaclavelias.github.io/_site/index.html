<!doctype html>
<html lang="en" data-bs-theme="dark-v">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vaclav Elias - Code or not to code</title>
    <meta name="author" content="Vaclav Elias">
    <meta name="description" content="All about C# and .NET coding from Vaclav Elias">
    <link rel="stylesheet" href="/assets/css/styles.css">
    
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-light">
    <div class="container">
        <input type="checkbox" id="navbar-toggle-cbox">
        <a class="navbar-brand" href="/">Václav Eliáš</a>
        <label for="navbar-toggle-cbox" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </label>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/blog/">Blog</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/tags/">Tags</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/archive/">Archive</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/about/">About Me</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://twitter.com/VasoElias">Twitter</a>
                </li>
            </ul>
            <!--<form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>-->
        </div>
    </div>
</nav>
    <div class="container">
        <div class="row postcontent">
    <div class="col-12">
        <h1>Vaclav Elias - Code or not to code</h1>
        <article>
    
    
    <h1>C# code reference in 11ty</h1>
    <div class="entry-meta entry-meta-layoutt text-center">
        <p class="x-hidden-focus mt-4 pt-1 small text-muted date d-inline-block">
            December 19, 2022
        </p>
    </div>
    <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// Copyright (c) .NET Foundation and Contributors (https://dotnetfoundation.org/ &amp; https://stride3d.net)</span><br><span class="token comment">// Distributed under the MIT license. See the LICENSE.md file in the project root for more information.</span><br><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span><br><span class="token keyword">using</span> <span class="token namespace">Stride<span class="token punctuation">.</span>Animations</span><span class="token punctuation">;</span><br><span class="token keyword">using</span> <span class="token namespace">Stride<span class="token punctuation">.</span>Core<span class="token punctuation">.</span>Mathematics</span><span class="token punctuation">;</span><br><span class="token keyword">using</span> <span class="token namespace">Stride<span class="token punctuation">.</span>Engine</span><span class="token punctuation">;</span><br><span class="token keyword">using</span> <span class="token namespace">Stride<span class="token punctuation">.</span>Input</span><span class="token punctuation">;</span><br><br><span class="token keyword">namespace</span> <span class="token namespace">CSharpIntermediate<span class="token punctuation">.</span>Code</span><br><span class="token punctuation">{</span><br>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AnimationBasics</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">SyncScript</span></span><br>    <span class="token punctuation">{</span><br>        <span class="token keyword">public</span> <span class="token class-name"><span class="token keyword">float</span></span> AnimationSpeed <span class="token operator">=</span> <span class="token number">1.0f</span><span class="token punctuation">;</span><br>        <span class="token keyword">private</span> <span class="token class-name">AnimationComponent</span> animation<span class="token punctuation">;</span><br>        <span class="token keyword">private</span> <span class="token class-name">PlayingAnimation</span> latestAnimation<span class="token punctuation">;</span><br><br>        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">{</span><br>            animation <span class="token operator">=</span> Entity<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Get</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AnimationComponent<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            <span class="token comment">// Set the default animation</span><br>            latestAnimation <span class="token operator">=</span> animation<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token string">"Idle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        <span class="token punctuation">{</span><br>            <span class="token class-name"><span class="token keyword">int</span></span> drawX <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span> drawY <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span><br><br>            <span class="token function">StopOrResumeAnimations</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            <span class="token function">AdjustAnimationSpeed</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>            DebugText<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"I to start playing Idle"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Int2</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>I<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                latestAnimation <span class="token operator">=</span> animation<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token string">"Idle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br><br>            DebugText<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"R to crossfade to Run"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Int2</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>R<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                latestAnimation <span class="token operator">=</span> animation<span class="token punctuation">.</span><span class="token function">Crossfade</span><span class="token punctuation">(</span><span class="token string">"Run"</span><span class="token punctuation">,</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// We can crossfade to a punch animation, but only if it is not already playing</span><br>            DebugText<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"P to crossfade to Punch and play it once"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Int2</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>P<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>animation<span class="token punctuation">.</span><span class="token function">IsPlaying</span><span class="token punctuation">(</span><span class="token string">"Punch"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                latestAnimation <span class="token operator">=</span> animation<span class="token punctuation">.</span><span class="token function">Crossfade</span><span class="token punctuation">(</span><span class="token string">"Punch"</span><span class="token punctuation">,</span> TimeSpan<span class="token punctuation">.</span><span class="token function">FromSeconds</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>RepeatMode <span class="token operator">=</span> AnimationRepeatMode<span class="token punctuation">.</span>PlayOnce<span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br><br>            <span class="token comment">// When the punch animation is the latest animation, but it is no longer playing, we set a new animation</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>latestAnimation<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">"Punch"</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>animation<span class="token punctuation">.</span><span class="token function">IsPlaying</span><span class="token punctuation">(</span><span class="token string">"Punch"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                latestAnimation <span class="token operator">=</span> animation<span class="token punctuation">.</span><span class="token function">Play</span><span class="token punctuation">(</span><span class="token string">"Idle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>RepeatMode <span class="token operator">=</span> AnimationRepeatMode<span class="token punctuation">.</span>LoopInfinite<span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">StopOrResumeAnimations</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> drawX<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> drawY<span class="token punctuation">)</span><br>        <span class="token punctuation">{</span><br>            DebugText<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"S to pause or resume animations"</span></span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Int2</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>S<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> playingAnimation <span class="token keyword">in</span> animation<span class="token punctuation">.</span>PlayingAnimations<span class="token punctuation">)</span><br>                <span class="token punctuation">{</span><br>                    playingAnimation<span class="token punctuation">.</span>Enabled <span class="token operator">=</span> <span class="token operator">!</span>playingAnimation<span class="token punctuation">.</span>Enabled<span class="token punctuation">;</span><br>                <span class="token punctuation">}</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">AdjustAnimationSpeed</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> drawX<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> drawY<span class="token punctuation">)</span><br>        <span class="token punctuation">{</span><br>            DebugText<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Q and E for speed </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">AnimationSpeed</span><span class="token format-string"><span class="token punctuation">:</span>0.0</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Int2</span><span class="token punctuation">(</span>drawX<span class="token punctuation">,</span> drawY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>E<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                AnimationSpeed <span class="token operator">+=</span> <span class="token number">0.1f</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Input<span class="token punctuation">.</span><span class="token function">IsKeyPressed</span><span class="token punctuation">(</span>Keys<span class="token punctuation">.</span>Q<span class="token punctuation">)</span><span class="token punctuation">)</span><br>            <span class="token punctuation">{</span><br>                AnimationSpeed <span class="token operator">-=</span> <span class="token number">0.1f</span><span class="token punctuation">;</span><br>                latestAnimation<span class="token punctuation">.</span>TimeFactor <span class="token operator">=</span> AnimationSpeed<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></code></pre>
<pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">"Hello World from child!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre>

    <hr />
    <p><span class="badge rounded-pill text-bg-success me-1">C#</span><span class="badge rounded-pill text-bg-success me-1">.NET</span></p>
    
</article>
<h2>Recent Posts</h2>

<ul>
    
    <li>
        <a href="/stride3d/stride3d-minimal-api-code-only/">Stride minimal API / Code only approach</a>
    </li>
    
    <li>
        <a href="/dotnet/visual-studio-advance/">Visual Studio Advance</a>
    </li>
    
    <li>
        <a href="/dotnet/visual-studio-intro/">Visual Studio Intro</a>
    </li>
    
    <li>
        <a href="/dotnet/jazor-experiment/">Jazor experiment</a>
    </li>
    
    <li>
        <a href="/dotnet/visual-studio-debugger-enumerable-visualizer/">Visual Studio Debugger Enumerable Visualizer</a>
    </li>
    
</ul>

    </div>
</div>

    </div>
    <!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>-->
</body>
</html>